#!/usr/bin/env bash
set -e
set -u
set -o pipefail

is_light="$(echo "$1" '>' .5 | bc)"

XDG_CACHE_HOME=${XDG_CACHE_HOME:-$HOME/.cache}
mkdir -p "$XDG_CACHE_HOME"
theme_path="$XDG_CACHE_HOME/evanhahn-vim-theme.vim"

echo '" This is an auto-generated file.' > "$theme_path"

if [ "$is_light" -eq 1 ]; then
  echo 'if has("termguicolors")
  set termguicolors
endif

colorscheme one
set background=light' >> "$theme_path"
else
  echo 'colorscheme evanhahn' >> "$theme_path"
fi
