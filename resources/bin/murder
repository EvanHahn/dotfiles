#!/usr/bin/env ruby

SIGNALS = [
  [15, 3],
  [2, 3],
  [1, 4],
  [9, 0]
]

def is_running(pid)
  `ps -p #{pid}`.lines.length == 2
end

def kill(pid, code)
  `kill -#{code} #{pid}`
end

def murder(pid)
  SIGNALS.each do |signal|
    exit 0 unless is_running pid

    code, wait = signal

    kill(pid, code)
    sleep 0.5
    sleep(wait) if is_running pid
  end
end

if ARGV.size < 1
  puts 'what do you want to murder?'
else
  murder(ARGV[0])
end
